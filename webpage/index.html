<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OSU CSE Course Visualization</title>
    <script src="js\d3.v7.js"></script>
    <script src="js/dagre.js"></script>
    <script src="js/dagre-d3.js"></script>
    <link rel="stylesheet" href="css\style.css">
</head>
<body>
    <header>
        <svg class="site-title-container">
            <path class= "title-background" d="M 0 0 V 100 H 800 L 750 0 Z"/>
            <text class="title-text" x="30" y="90">CSE Course Visualization</text>
        </svg>
        <img class="site-logo" src="img\logo.png" alt="The Ohio State University College of Engineering">
    </header>
    <main>
        <div class="user-menu-container">
            <div id = "specialization_selection">
            <label class="dropdown-label" for="specializations">Select a specialization:</label>
            <select class="dropdown-menu" name="specializations" id="specializations">
                <option value="None"></option>
                <option value="AIT">Artificial Intelligence</option>
                <option value="CGG">Computer Graphics and Game Design</option>
                <option value="DBA">Database Systems and Data Analytics</option>
                <option value="ICA">Information and Computation Assurance</option>
                <option value="CNT">Computer Networking</option>
                <option value="CSY">Computer Systems</option>
                <option value="SWS">Software Engineering</option>
            </select>
            </div>
            <div id="selection_area">
                <!--Selection Area will be rendered here-->
            </div>
            <div id="settings"><!--TODO--></div>
        </div>
        <div class="graph-container">
            <svg id="course-graph" ></svg>
        </div>
    </main>
    <footer>
        <p class="auth-info">Authors:<br>
            Saul Ibaven - ibavenbueno.1@buckeyemail.osu.edu<br>
            Chris Stanulet - stanulet.1@buckeyemail.osu.edu
        </p>
    </footer>
    <script type="module">
            //import {renderChoices,returnSelectedChoices} from './js/SelectionArea.js';
            import {returnBaseCourses,interactionHandler} from './js/util.js';

            var selectedCourses = [];
            //Main app definition
            var app = async function () 
            {
                // --------------------------------------------------- CHECKBOX SELECTION --------------------------------------------------
                //Add event listener to checkbox selection
                // var checkboxes = document.querySelectorAll("input[type=checkbox]");
                // let selectedClasses = []
                // checkboxes.forEach(function(checkbox) 
                // {
                //     checkbox.addEventListener('change', interactionHandler)
                //     // checkbox.addEventListener('change', function() 
                //     // {
                //     //     console.log("Checkbox changed")
                //     //     selectedClasses = Array.from(checkboxes)
                //     //         .filter(i => i.checked) 
                //     //         .map(i => i.value) 
                //     //     selectedCourses = returnSelectedChoices(coreClasses, specializationsData,selectedClasses);
                //     //     console.log(selectedCourses);
                //     // })
                // });

                //this is the set of courses where no choice is available
                //var noChoiceCoreCourses = returnBaseCourses(coreClasses, selectionOptions);
                //var noChoiceSpecializationCourses = returnBaseCourses(specializationsData, selectionOptions);
                
                // -------------------------------------------------- DROPDOWN -----------------------------------------------------------------
                //Read the specialization selected from dropdown menu
                var specializationDropdown = document.getElementById("specializations");
                specializationDropdown.addEventListener('change', interactionHandler);

                // specializationDropdown.addEventListener('change', function(){

                // Setting the prereq nodes
                // selectedSpecializationCourses.forEach(course => 
                // {
                //     //Get AND Prereqs
                //     var andPrereqs = course.Prereq.split(";");
                //     //console.log(andPrereqs);

                //     andPrereqs.forEach(andPrereq => {
                        
                //         if(andPrereq.includes(",")) // There are OR Prereqs that need to be checked
                //         {

                //         }
                //         else // There are no OR Preqrequisites, append nodes as they are and define edges
                //         {
                //             if(!g.hasNode(andPrereq)){
                //                 g.setNode(andPrereq,{label : andPrereq, style: 'fill: blue',id:andPrereq});
                //                 g.setEdge(andPrereq,course.Number,{id : "edge" + andPrereq + "-" + course.Number});
                //             }
                //         }

                //     })

                // })
                
            }
            app();

    </script>
</body>
</html>